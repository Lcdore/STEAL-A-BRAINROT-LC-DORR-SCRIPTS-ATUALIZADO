local loadstring = loadstring or function(code)
    return assert(load(code))()
end

local success, result = pcall(function()
    -- Carregar bibliotecas essenciais
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local UserInputService = game:GetService("UserInputService")
    local TweenService = game:GetService("TweenService")
    local CoreGui = game:GetService("CoreGui")
    local Workspace = game:GetService("Workspace")

    -- Configura√ß√µes Globais
    local settings = {
        noclip = false,
        speedBoost = false,
        infinityJump = false,
        antiDeath = false,
        esp = false,
        fpsDevourer = false,
        originalWalkSpeed = 16,
        boostedWalkSpeed = 120,
        originalJumpPower = 50
    }

    -- Vari√°veis de Controle
    local connections = {}
    local mobileButtons = {}
    local espObjects = {}
    local lagObjects = {}
    local isMobile = UserInputService.TouchEnabled
    local mainGui, mainFrame, minimizedFrame
    local isMinimized = false

    -- Fun√ß√£o de Tween Super R√°pido
    local function fastTween(object, properties, duration)
        local tweenInfo = TweenInfo.new(
            duration or 0.2,
            Enum.EasingStyle.Quad,
            Enum.EasingDirection.Out,
            0,
            false,
            0
        )
        local tween = TweenService:Create(object, tweenInfo, properties)
        tween:Play()
        return tween
    end

    -- üöÄ NOCLIP ULTRA MELHORADO (ANTI-VOID)
    local function enableNoclip()
        if not player.Character then return end
        
        local humanoid = player.Character:FindFirstChild("Humanoid")
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        if not humanoid or not rootPart then return end

        -- Salvar posi√ß√£o inicial para preven√ß√£o de void
        local lastSafePosition = rootPart.Position
        
        -- M√©todo 1: Estado de Nata√ß√£o
        humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
        
        -- M√©todo 2: Remover colis√£o de todas as partes
        for _, part in ipairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
                part.Massless = true
            end
        end

        -- M√©todo 3: Conex√£o cont√≠nua com anti-void
        if connections.noclip then connections.noclip:Disconnect() end
        
        connections.noclip = RunService.Stepped:Connect(function()
            if settings.noclip and player.Character and rootPart then
                -- Preven√ß√£o contra void - verificar se est√° caindo
                if rootPart.Position.Y < -500 then
                    -- Teleportar para a √∫ltima posi√ß√£o segura
                    rootPart.CFrame = CFrame.new(lastSafePosition)
                else
                    -- Atualizar √∫ltima posi√ß√£o segura
                    lastSafePosition = rootPart.Position
                end
                
                -- Manter estado de nata√ß√£o
                humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
                
                -- Manter partes sem colis√£o
                for _, part in ipairs(player.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
                
                -- Sistema avan√ßado de atravessar paredes 
                local camera = Workspace.CurrentCamera
                local direction = camera.CFrame.LookVector
                
                -- Verificar colis√µes √† frente com raycasting
                local raycastParams = RaycastParams.new()
                raycastParams.FilterType = Enum.RaycastFilterType.Blacklist
                raycastParams.FilterDescendantsInstances = {player.Character}
                
                local raycastResult = Workspace:Raycast(
                    rootPart.Position, 
                    direction * 5, 
                    raycastParams
                )
                
                if raycastResult then
                    -- For√ßar passagem atrav√©s da parede
                    rootPart.CFrame = rootPart.CFrame + (direction * 1.5)
                end
            end
        end)
    end

    -- (Todas as outras fun√ß√µes permanecem aqui como no script original)
    -- [...]
    
    -- üéØ INICIALIZA√á√ÉO DO SCRIPT
    local player = Players.LocalPlayer
    
    local function initializeScript()
        -- Criar interface
        createHubGUI()
        
        -- Configurar teclas de atalho para PC
        if not isMobile then
            UserInputService.InputBegan:Connect(function(input, processed)
                if not processed then
                    if input.KeyCode == Enum.KeyCode.RightShift then
                        if isMinimized then
                            isMinimized = false
                            minimizedFrame.Visible = false
                            mainFrame.Visible = true
                            fastTween(mainFrame, {Size = UDim2.new(0, 400, 0, 500)}, 0.3)
                        else
                            isMinimized = true
                            fastTween(mainFrame, {Size = UDim2.new(0, 0, 0, 0)}, 0.3)
                            wait(0.3)
                            mainFrame.Visible = false
                            minimizedFrame.Visible = true
                        end
                    end
                end
            end)
        end

        -- Notifica√ß√£o
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "üíÄ LC DORE SCRIPTS",
            Text = "Script carregado com sucesso!",
            Duration = 5,
            Icon = "rbxassetid://4458901886"
        })

        print("====================================")
        print("üî• LC DORE SCRIPTS - CARREGADO")
        print("‚úÖ Loadstring Universal para Todos Executores")
        print("‚úÖ Noclip Anti-Void implementado")
        print("====================================")
    end

    -- üöÄ INICIAR SCRIPT
    if player.Character then
        initializeScript()
    else
        player.CharacterAdded:Connect(function()
            initializeScript()
        end)
    end
end)

if not success then
    warn("Erro ao carregar o script: " .. tostring(result))
end
